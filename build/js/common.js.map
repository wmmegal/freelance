{"version":3,"names":[],"mappings":"","sources":["common.js"],"sourcesContent":["jQuery(document).ready(function ($) {\r\n\r\n    /**\r\n     * Меню\r\n     */\r\n\r\n    let menuA = $('#menu a');\r\n    menuA.each(function () {\r\n        if ($(this).next('ul').length) {\r\n            $(this).append(' <i class=\"icon-arr\"></i>')\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '#menu a', function (e) {\r\n        let $this = $(this);\r\n        let thisParent = $this.closest('li'),\r\n            ul = thisParent.find('> ul');\r\n        if (ul.length > 0) {\r\n            e.preventDefault();\r\n\r\n            if (thisParent.hasClass('active')) {\r\n                thisParent.removeClass('active')\r\n            } else {\r\n                thisParent.addClass('active').siblings().removeClass('active');\r\n            }\r\n\r\n            if ($(window).width() < 1200) {\r\n                if (!ul.find('.btn-menu-back').length) {\r\n                    ul.prepend('<li><button class=\"btn-menu-back\"><i class=\"icon-arr\"></i>' + $this.text() + '</button></li>');\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', function (e) {\r\n        hideElement($(e.target), '#menu', $('#menu li'));\r\n    });\r\n\r\n    $(document).on('click', '.btn-menu-back', function (e) {\r\n        $(this).closest('ul').closest('li').removeClass('active');\r\n    });\r\n\r\n    $('.btn-menu').on('click', function (e) {\r\n        e.preventDefault();\r\n        $(this).toggleClass('active').next().slideToggle();\r\n        $('#header').toggleClass('active');\r\n    })\r\n\r\n    /**\r\n     * Слайдер отзывов\r\n     */\r\n    $('#slider-reviews').slick({\r\n        dots: false,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 3,\r\n        slidesToScroll: 1,\r\n        responsive: [\r\n            {\r\n                breakpoint: 768,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                    dots: true\r\n                }\r\n            }\r\n        ]\r\n    });\r\n\r\n    /**\r\n     * Слайдер элементов в мобильной версии\r\n     */\r\n    let sliderItems = $('.slider-items');\r\n    let sliderItemsSettings = {\r\n        dots: true,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n    };\r\n\r\n    sliderItems.slick(sliderItemsSettings);\r\n\r\n    /**\r\n     * Слайдер фрилансеров\r\n     */\r\n    let sliderFreelancers = $('.slider-freelancers');\r\n    let sliderFreelancersSettings = {\r\n        dots: true,\r\n        arrows: false,\r\n        speed: 500,\r\n        slidesToShow: 2,\r\n        slidesToScroll: 1,\r\n        responsive: [\r\n            {\r\n                breakpoint: 768,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                }\r\n            }\r\n        ]\r\n    };\r\n\r\n    sliderFreelancers.slick(sliderFreelancersSettings);\r\n\r\n    /**\r\n     * Слайдер портфолио\r\n     */\r\n\r\n    let sliderPortfolio = $('.slider-portfolio');\r\n    let sliderPortfolioSettings = {\r\n        dots: false,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 1,\r\n        infinite: false,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1200,\r\n                settings: {\r\n                    slidesToShow: 3,\r\n                }\r\n            },\r\n            {\r\n                breakpoint: 768,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                }\r\n            }\r\n        ]\r\n    };\r\n\r\n    sliderPortfolio.slick(sliderPortfolioSettings);\r\n\r\n    /**\r\n     * Еще категории\r\n     */\r\n    $('.btn-category-more').on('click', function () {\r\n        console.log($(this).text());\r\n        $(this).closest('.category').find('li.hidden').toggle();\r\n\r\n        if ($(this).text() === 'Еще категории') {\r\n            $(this).text('Скрыть')\r\n        } else {\r\n            $(this).text('Еще категории')\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Аккордион\r\n     */\r\n    $('.question').on('click', function () {\r\n        let thisParent = $(this).closest('.faq'),\r\n            otherParents = thisParent.siblings();\r\n        otherParents.find('.question').removeClass('active').next('.answer').slideUp();\r\n        thisParent.find('.question').toggleClass('active').next('.answer').slideToggle();\r\n    });\r\n\r\n\r\n    /**\r\n     * Поиск\r\n     */\r\n    let quickSearch = $('#quick-search'),\r\n        searchResults = $('.search-results');\r\n\r\n    quickSearch.find('input').on('focus', function () {\r\n        searchResults.addClass('active');\r\n    });\r\n\r\n    quickSearch.find('input').on('blur', function () {\r\n        setTimeout(function () {\r\n            searchResults.removeClass('active');\r\n        }, 1)\r\n    });\r\n\r\n    /**\r\n     * Fancybox\r\n     */\r\n    $('.slider-portfolio .slick-slide:not(.slick-cloned) a').fancybox();\r\n\r\n    /**\r\n     * Меню Категории\r\n     */\r\n\r\n    $(document).on('click', '.categories-list a', function (e) {\r\n        let $this = $(this),\r\n            thisLi = $this.closest('li'),\r\n            thisUl = thisLi.find('ul');\r\n        if (thisUl.length > 0) {\r\n            e.preventDefault();\r\n            thisLi.toggleClass('active').siblings().removeClass('active');\r\n\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Select\r\n     */\r\n\r\n    let _dropdown;\r\n    let settings = { autoReinitialise: true };\r\n    let visibleOptions = 5;\r\n    let stylerOptions = {\r\n        selectVisibleOptions: visibleOptions,\r\n        // selectSearch: true,\r\n        onFormStyled: function () {\r\n            _dropdown = $('.jq-selectbox__dropdown');\r\n            _dropdown.find('ul').wrap('<div class=\"scroll-pane\" />');\r\n        },\r\n        onSelectOpened: function () {\r\n            let _ul = $(this).find('.jq-selectbox__dropdown ul');\r\n            let height = _ul.height();\r\n            let _srollPane = _dropdown.find('.scroll-pane');\r\n            _srollPane.height(height);\r\n            _ul.css('max-height', 'none');\r\n            _srollPane.jScrollPane(settings);\r\n        },\r\n    }\r\n\r\n    $('select').each(function () {\r\n        $(this).styler($(this).find('option').length > visibleOptions ? stylerOptions : {});\r\n    });\r\n\r\n    /**\r\n     * Filter\r\n     */\r\n    $('.btn-filter-toggle').on('click', function (e) {\r\n        let $this = $(this),\r\n            filterDetails = $('.filter-details');\r\n\r\n        filterDetails.toggleClass('active');\r\n\r\n        if ($(window).width() > 1200) {\r\n            if ($this.text() === 'Расширенный поиск') {\r\n                $this.text('Закрыть расширенный поиск')\r\n            } else {\r\n                $this.text('Расширенный поиск');\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Рейгитнг\r\n     */\r\n    $('.stars.clickable svg').on('click', function () {\r\n        let $this = $(this);\r\n        $this.closest('.stars').attr('data-value', $this.data('value'));\r\n    });\r\n\r\n    /**\r\n     * Табы\r\n     */\r\n    $('#tabs').on('click', 'li:not(.active)', function () {\r\n        let $thisTab = $(this).addClass('active').siblings().removeClass('active').parents().find('.tab-box').eq($(this).index());\r\n\r\n        if ($(window).width() < 1200) {\r\n            $thisTab.fadeIn(150).siblings('.tab-box').hide();\r\n\r\n        } else {\r\n            $('html, body').animate({\r\n                scrollTop: $thisTab.offset().top\r\n            }, 500);\r\n        }\r\n\r\n    });\r\n\r\n    /**\r\n     * Сортировка\r\n     */\r\n    let sort = $('.sort');\r\n    $('.sort-toggle').on('click', function (e) {\r\n        sort.toggleClass('active');\r\n    });\r\n\r\n    $(document).on('click', function (e) {\r\n        hideElement($(e.target), '.sort', sort);\r\n    });\r\n})\r\n\r\n\r\n/**\r\n * Спрятать элемент по клику из вне\r\n */\r\nfunction hideElement(el, parent, elHide) {\r\n    if (!el.closest(parent).length) {\r\n        elHide.removeClass('active');\r\n    }\r\n}\r\n"],"file":"common.js"}