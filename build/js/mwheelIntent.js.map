{"version":3,"names":[],"mappings":"","sources":["mwheelIntent.js"],"sourcesContent":["/**\n * @author trixta\n * @version 1.2\n */\n(function($){\n\nvar mwheelI = {\n\t\t\tpos: [-260, -260]\n\t\t},\n\tminDif \t= 3,\n\tdoc \t= document,\n\troot \t= doc.documentElement,\n\tbody \t= doc.body,\n\tlongDelay, shortDelay\n;\n\nfunction unsetPos(){\n\tif(this === mwheelI.elem){\n\t\tmwheelI.pos = [-260, -260];\n\t\tmwheelI.elem = false;\n\t\tminDif = 3;\n\t}\n}\n\n$.event.special.mwheelIntent = {\n\tsetup: function(){\n\t\tvar jElm = $(this).bind('mousewheel', $.event.special.mwheelIntent.handler);\n\t\tif( this !== doc && this !== root && this !== body ){\n\t\t\tjElm.bind('mouseleave', unsetPos);\n\t\t}\n\t\tjElm = null;\n        return true;\n    },\n\tteardown: function(){\n        $(this)\n\t\t\t.unbind('mousewheel', $.event.special.mwheelIntent.handler)\n\t\t\t.unbind('mouseleave', unsetPos)\n\t\t;\n        return true;\n    },\n    handler: function(e, d){\n\t\tvar pos = [e.clientX, e.clientY];\n\t\tif( this === mwheelI.elem || Math.abs(mwheelI.pos[0] - pos[0]) > minDif || Math.abs(mwheelI.pos[1] - pos[1]) > minDif ){\n            mwheelI.elem = this;\n\t\t\tmwheelI.pos = pos;\n\t\t\tminDif = 250;\n\t\t\t\n\t\t\tclearTimeout(shortDelay);\n\t\t\tshortDelay = setTimeout(function(){\n\t\t\t\tminDif = 10;\n\t\t\t}, 200);\n\t\t\tclearTimeout(longDelay);\n\t\t\tlongDelay = setTimeout(function(){\n\t\t\t\tminDif = 3;\n\t\t\t}, 1500);\n\t\t\te = $.extend({}, e, {type: 'mwheelIntent'});\n            return ($.event.dispatch || $.event.handle).apply(this, arguments);\n\t\t}\n    }\n};\n$.fn.extend({\n\tmwheelIntent: function(fn) {\n\t\treturn fn ? this.bind(\"mwheelIntent\", fn) : this.trigger(\"mwheelIntent\");\n\t},\n\t\n\tunmwheelIntent: function(fn) {\n\t\treturn this.unbind(\"mwheelIntent\", fn);\n\t}\n});\n\n$(function(){\n\tbody = doc.body;\n\t//assume that document is always scrollable, doesn't hurt if not\n\t$(doc).bind('mwheelIntent.mwheelIntentDefault', $.noop);\n});\n})(jQuery);\n"],"file":"mwheelIntent.js"}